\chapter{Programes per a la calculadora \textsf{HP Prime}}\label{sec:progs-HP}
\index{HP Prime@\textsf{HP Prime}}\index{HP Prime@\textsf{HP Prime}!funcions}

\lstset{
	language=HPPRIME,
	basicstyle=\small\sf,
	numbers=left,
	frame=lines
}

Es donen en aquest ap√®ndix una s√®rie de programes per a la calculadora \textsf{HP Prime} de Hewlett-Packard, els quals s√≥n d'inter√®s per resoldre problemes tractats en aquest llibre.

\begin{center}
\includegraphics[scale=0.45]{Ape-HP-Prime.jpg}
\end{center}

Aquesta calculadora disposa d'un emulador per a PC que pot descarregar-se de la p√†gina de Hewlett-Packard: \href{http://www.hpprime.de/en/category/6-downloads}{www.hpprime.de/en/category/6-downloads}.

\section{Electrot√®cnia}\label{sec:HP_ELC}

La funci√≥ \funsfbs{Z\_S√®rie} utilitza l'equaci√≥ \eqref{eq:z_serie} per obtenir la imped√†ncia s√®rie d'una llista d'imped√†ncies $\cmplx{Z}_1, \cmplx{Z}_2, ...$; les imped√†ncies poden ser indistintament reals o complexes.

\index{HP Prime@\textsf{HP Prime}!funcions!zserie@\funsfbs{Z\_S√®rie}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Z\_S√®rie}]
EXPORT Z_S√®rie(z)
// z:imped√†ncies {Z1, Z2,...} ‚Üí imped√†ncia s√®rie
BEGIN
  RETURN Œ£LIST(z);
END;
\end{lstlisting}

La funci√≥ \funsfbs{Z\_Para≈Älel} obt√© la imped√†ncia para≈Älel  d'una llista d'imped√†ncies $\cmplx{Z}_1, \cmplx{Z}_2, ...$; les imped√†ncies poden ser indistintament reals o complexes. S'utilitza una variant de l'equaci√≥ \eqref{eq:z_parallel}, la qual dona una millor precisi√≥ num√®rica.

\index{HP Prime@\textsf{HP Prime}!funcions!zserie@\funsfbs{Z\_S√®rie}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Z\_Para≈Älel}]
EXPORT Z_Para≈Älel(z)
// z:imped√†ncies {Z1, Z2,...} ‚Üí imped√†ncia para≈Älel
BEGIN
  RETURN Œ†LIST(z)/Œ£LIST(Œ†LIST(z)/z);
END;
\end{lstlisting}

La funci√≥ \funsfbs{Millman} utilitza l'equaci√≥ \eqref{eq:millman} per obtenir la tensi√≥ $\cmplx{U}\ped{nx}$ del punt neutre $n$ d'una llista d'imped√†ncies connectades en estrella $\cmplx{Z}\ped{an}, \cmplx{Z}\ped{bn}, \cmplx{Z}\ped{cn}, ...$, respecte d'un punt qualsevol $x$, a partir de la llista de tensions $\cmplx{U}\ped{ax}, \cmplx{U}\ped{bx}, \cmplx{U}\ped{cx}, ...$ dels extrems d'aquestes imped√†ncies respecte del mateix punt $x$; les imped√†ncies i les tensions poden ser indistintament reals o complexes. √âs necess√†ria la funci√≥ \funsfbs{Z\_Para≈Älel}, definit anteriorment.

\index{HP Prime@\textsf{HP Prime}!funcions!millman@\funsfbs{Millman}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Millman}]
EXPORT Millman(u,z)
// u:tensions {Uax,Ubx,Ucx,...}, z:imped√†ncies {Zan,Zbn,Zcn,...} ‚Üí tensi√≥ Unx
// n √©s el punt neutre de les imped√†ncies, i x √©s un punt qualsevol
BEGIN
  RETURN Œ£LIST(u ./ z) * Z_Para≈Älel(z);
END;
\end{lstlisting}

La funci√≥ \funsfbs{Triangle\_a\_Estrella} utilitza l'equaci√≥ \eqref{eq:Y_D} per transformar una llista de tres imped√†ncies connectades en triangle $\cmplx{Z}\ped{ab}$, $\cmplx{Z}\ped{bc}$ i  $\cmplx{Z}\ped{ca}$, en una llista de tres imped√†ncies equivalents connectades en estrella $\cmplx{Z}\ped{an}$, $\cmplx{Z}\ped{bn}$ i $\cmplx{Z}\ped{cn}$; les imped√†ncies poden ser indistintament reals o complexes.

\index{HP Prime@\textsf{HP Prime}!funcions!triangleaestrella@\funsfbs{Triangle\_a\_Estrella}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Triangle\_a\_Estrella}]
EXPORT Triangle_a_Estrella(zd)
// zd:imped√†ncies en triangle {Zab,Zbc,Zca} ‚Üí imped√†ncies en estrella {Zan,Zbn,Zcn}
BEGIN
  LOCAL z:=Œ†LIST(zd)/Œ£LIST(zd);
  RETURN {z/zd(2),z/zd(3),z/zd(1)};
END;
\end{lstlisting}

La funci√≥ \funsfbs{Estrella\_a\_Triangle} utilitza l'equaci√≥ \eqref{eq:Y_D} per transformar una llista de tres imped√†ncies connectades en estrella $\cmplx{Z}\ped{an}$, $\cmplx{Z}\ped{bn}$ i $\cmplx{Z}\ped{cn}$, en una llista de tres imped√†ncies equivalents connectades en triangle $\cmplx{Z}\ped{ab}$, $\cmplx{Z}\ped{bc}$ i  $\cmplx{Z}\ped{ca}$; les imped√†ncies poden ser indistintament reals o complexes.

\index{HP Prime@\textsf{HP Prime}!funcions!estrellaatriangle@\funsfbs{Estrella\_a\_Triangle}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Estrella\_a\_Triangle}]
EXPORT Estrella_a_Triangle(zy)
// zy:imped√†ncies en estrella {Zan,Zbn,Zcn} ‚Üí imped√†ncies en triangle {Zab,Zbc,Zca}
BEGIN
  LOCAL z:=zy(1)*(zy(2)+zy(3))+zy(2)*zy(3);
  RETURN {z/zy(3),z/zy(1),z/zy(2)};
END;
\end{lstlisting}

La funci√≥ \funsfbs{EZS\_U} utilitza les equacions de la secci√≥ \vref{sec:EZS} per obtenir la tensi√≥ $\cmplx{U}$ d'una c√†rrega que absorbeix una pot√®ncia $\cmplx{S}$, quan est√† connectada a una font de tensi√≥ $\cmplx{E}$ a trav√©s d'una imped√†ncia $\cmplx{Z}$; cadascun d'aquests valors pot ser indistintament real o complex.

\index{HP Prime@\textsf{HP Prime}!funcions!ezsu@\funsfbs{EZS\_U}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ EZS\_U},label=lst:EZSU]
EXPORT EZS_U(E,Z,S)
// E:font de tensi√≥, Z:imped√†ncia, S:pot√®ncia de la c√†rrega ‚Üí tensi√≥ U de la c√†rrega
BEGIN
  LOCAL ZcS:=CONJ(Z)*S;
  LOCAL ImUe:=IM(ZcS)/ABS(E);
  LOCAL ReUe:=POLYROOT({1,-ABS(E),RE(ZcS)+ImUe^2});
  IF TYPE(ReUe(1))==3 THEN
    RETURN "No hi ha soluci√≥"; // Arrels complexes
  ELSE
    RETURN (MAX(ReUe),ImUe)*SIGN(E);
  END;
END;
\end{lstlisting}

La funci√≥ \funsfbs{kcmil\_a\_mm2} utilitza l'equaci√≥ \eqref{eq:kcmil_mm2} per convertir la secci√≥ d'un conductor expressada en \unit{kcmil}, en la seva secci√≥ equivalent expressada en \unit{mm^2}.

\index{HP Prime@\textsf{HP Prime}!funcions!kcmilamm@\funsfbs{kcmil\_a\_mm2}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ kcmil\_a\_mm2}]
EXPORT kcmil_a_mm2(kcmil)
// kcmil:secci√≥ en kcmil ‚Üí secci√≥ en mm¬≤
BEGIN
  RETURN kcmil*0.506707479098;
END;
\end{lstlisting}

La funci√≥ \funsfbs{mm2\_a\_kcmil} utilitza l'equaci√≥ \eqref{eq:kcmil_mm2} per convertir la secci√≥ d'un conductor expressada en \unit{mm^2}, en la seva secci√≥ equivalent expressada en \unit{kcmil}.

\index{HP Prime@\textsf{HP Prime}!funcions!mmakcmil@\funsfbs{mm2\_a\_kcmil}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ mm2\_a\_kcmil}]
EXPORT mm2_a_kcmil(mm2)
// mm2:secci√≥ en mm¬≤ ‚Üí secci√≥ en kcmil
BEGIN
  RETURN mm2/0.506707479098;
END;
\end{lstlisting}

La funci√≥ \funsfbs{AWG\_a\_mm2} utilitza l'equaci√≥ \eqref{eq:awg_mm2} per convertir la secci√≥ d'un conductor expressada segons el seu n√∫mero AWG, en la seva secci√≥ equivalent expressada en \unit{mm^2}.

\index{HP Prime@\textsf{HP Prime}!funcions!awgamm@\funsfbs{AWG\_a\_mm2}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ AWG\_a\_mm2}]
EXPORT AWG_a_mm2(AWG)
// AWG:n√∫mero AWG ‚Üí secci√≥ en mm¬≤
// Cal entrar 0, -1, -2 i -3 en el cas dels n√∫meros AWG 1/0, 2/0, 3/0 i 4/0
BEGIN
  RETURN 53.4751207321/(92^(AWG/19.5));
END;
\end{lstlisting}

La funci√≥ \funsfbs{mm2\_a\_AWG} utilitza l'equaci√≥ \eqref{eq:mm2_awg} per convertir la secci√≥ d'un conductor expressada en \unit{mm^2}, en la seva secci√≥ equivalent expressada segons el seu n√∫mero AWG; la conversi√≥ √©s aproximada, ja que els n√∫meros AWG prenen valors discrets.

\index{HP Prime@\textsf{HP Prime}!funcions!mmaawg@\funsfbs{mm2\_a\_AWG}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ mm2\_a\_AWG}]
EXPORT mm2_a_AWG(mm2)
// mm2:secci√≥ en mm¬≤ ‚Üí n√∫mero AWG m√©s proper
// Els resultats 0, -1, -2 i -3 s√≥n equivalents als n√∫meros AWG 1/0, 2/0, 3/0 i 4/0
BEGIN
  RETURN ROUND(4.31245284200*LN(53.4751207321/mm2),0);
END;
\end{lstlisting}


La funci√≥ \funsfbs{Triangle\_a\_Fasors} obt√© els tres fasors $\cmplx{U}\ped{AB}$, $\cmplx{U}\ped{BC}$ i $\cmplx{U}\ped{CA}$ que formen un triangle de tensions fase-fase, a partir de les longituds dels tres costats d'aquest triangle $|\cmplx{U}\ped{AB}|$, $|\cmplx{U}\ped{BC}|$ i $|\cmplx{U}\ped{CA}|$. Es pren $\cmplx{U}\ped{AB}$ com a fasor de refer√®ncia.

\index{HP Prime@\textsf{HP Prime}!funcions!triangleafasors@\funsfbs{Triangle\_a\_Fasors}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Triangle\_a\_Fasors},label=lst:TriFas]
EXPORT Triangle_a_Fasors(u)
// u:triangle de tensions {Uab,Ubc,Uca} ‚Üí fasors de tensi√≥ {Uab,Ubc,Uca}
// La tensi√≥ Uab es pren com el fasor de refer√®ncia (angle igual a zero)
BEGIN
  LOCAL ùúë:=Triangle_Solver.SSS(u(1),u(3),u(2));
  RETURN {u(1),u(2)*(-1,0)*(1,‚à°ùúë(2)),u(3)*(-1,0)/(1,‚à°ùúë(3))};
END;
\end{lstlisting}

La funci√≥ \funsfbs{FN\_a\_FF} obt√© els fasors de les tres tensions fase-fase $\cmplx{U}\ped{AB}$, $\cmplx{U}\ped{BC}$ i $\cmplx{U}\ped{CA}$, corresponents als fasors de les tres tensions fase-neutre
$\cmplx{U}\ped{AN}$, $\cmplx{U}\ped{BN}$ i $\cmplx{U}\ped{CN}$.

\index{HP Prime@\textsf{HP Prime}!funcions!fnaff@\funsfbs{FN\_a\_FF}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ FN\_a\_FF}, label=lst:FNaFF]
EXPORT FN_a_FF(u)
// u:tensions fase-neutre {Uan,Ubn,Ucn} ‚Üí tensions fase-fase {Uab,Ubc,Uca}
BEGIN
  RETURN {u(1)-u(2),u(2)-u(3),u(3)-u(1)};
END;
\end{lstlisting}

La funci√≥ \funsfbs{FF\_a\_FN} obt√© els fasors de les tres tensions fase-neutre $\cmplx{U}\ped{AN}$, $\cmplx{U}\ped{BN}$ i $\cmplx{U}\ped{CN}$, corresponents a tres imped√†ncies $\cmplx{Z}\ped{AN}$, $\cmplx{Z}\ped{BN}$ i $\cmplx{Z}\ped{CN}$ connectades en estrella a  les tres tensions fase-fase
$\cmplx{U}\ped{AB}$, $\cmplx{U}\ped{BC}$ i $\cmplx{U}\ped{CA}$.

\index{HP Prime@\textsf{HP Prime}!funcions!ffafn@\funsfbs{FF\_a\_FN}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ FF\_a\_FN}, label=lst:FFaFN]
EXPORT FF_a_FN(u,z)
// u:tensions fase-fase {Uab,Ubc,Uca}, z:imped√†ncies {Zan,Zbn,Zcn} ‚Üí tensions
// fase-neutre {Uan,Ubn,Ucn}
BEGIN
  RETURN {u(1)/z(2)-u(3)/z(3),u(2)/z(3)-u(1)/z(1),u(3)/z(1)-u(2)/z(2)}*Z_Para≈Älel(z);
END;
\end{lstlisting}

La funci√≥ \funsfbs{FF\_a\_FG} obt√© els fasors de les tres tensions fase-neutre $\cmplx{U}\ped{AG}$, $\cmplx{U}\ped{BG}$ i $\cmplx{U}\ped{CG}$ que tenen el punt neutre G en el baricentre del triangle format pels fasors de  les tres tensions fase-fase
$\cmplx{U}\ped{AB}$, $\cmplx{U}\ped{BC}$ i $\cmplx{U}\ped{CA}$. √âs un cas particular de la funci√≥ anterior, quan les tres imped√†ncies s√≥n id√®ntiques.

\index{HP Prime@\textsf{HP Prime}!funcions!ffafg@\funsfbs{FF\_a\_FG}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ FF\_a\_FG}, label=lst:FFaFG]
EXPORT FF_a_FG(u)
// u:tensions fase-fase {Uab,Ubc,Uca} ‚Üí tensions fase-G {Uag,Ubg,Ucg}
// G √©s el baricentre del triangle de tensions fase-fase
BEGIN
  RETURN {u(1)-u(3),u(2)-u(1),u(3)-u(2)}/3;
END;
\end{lstlisting}

La funci√≥ \funsfbs{ABC\_a\_A012} utilitza l'equaci√≥ \eqref{eq:c_sim_mat1} per obtenir els tres fasors de seq√º√®ncia
$\cmplx{A}_0$, $\cmplx{A}_1$ i  $\cmplx{A}_2$ corresponents als tres fasors $\cmplx{A}$, $\cmplx{B}$ i $\cmplx{C}$.

\index{HP Prime@\textsf{HP Prime}!funcions!abcaa012@\funsfbs{ABC\_a\_A012}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ ABC\_a\_A012}, label=lst:ABCaA012]
EXPORT ABC_a_A012(x)
// x:fasors {A,B,C} ‚Üí fasors de seq√º√®ncia {A0,A1,A2}
BEGIN
  LOCAL A:=[[1,1,1],[1,(-1/2,‚àö3/2),(-1/2,-‚àö3/2)],[1,(-1/2,-‚àö3/2),(-1/2,‚àö3/2)]];
  RETURN mat2list(A*list2mat(x,1)/3);
END;
\end{lstlisting}

La funci√≥ \funsfbs{A012\_a\_ABC} fa el c√†lcul  invers de la funci√≥ anterior, i utilitza l'equaci√≥ \eqref{eq:c_sim_mat} per obtenir els tres fasors
$\cmplx{A}$, $\cmplx{B}$ i $\cmplx{C}$  corresponents als tres fasors de seq√º√®ncia
$\cmplx{A}_0$, $\cmplx{A}_1$ i  $\cmplx{A}_2$.

\index{HP Prime@\textsf{HP Prime}!funcions!a012aabc@\funsfbs{A012\_a\_ABC}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ A012\_a\_ABC}, label=lst:A012aABC]
EXPORT A012_a_ABC(x)
// x:fasors de seq√º√®ncia {A0,A1,A2} ‚Üí fasors {A,B,C}
BEGIN
  LOCAL A:=[[1,1,1],[1,(-1/2,-‚àö3/2),(-1/2,‚àö3/2)],[1,(-1/2,‚àö3/2),(-1/2,-‚àö3/2)]];
  RETURN mat2list(A*list2mat(x,1));
END;
\end{lstlisting}

La funci√≥ \funsfbs{AN12\_a\_AB12} utilitza les equacions  \eqref{eq:c_sim_a3} i \eqref{eq:c_sim_b3} per obtenir els dos fasors de tensions de seq√º√®ncia fase-fase $\cmplx{U}\ped{AB,1}$ i  $\cmplx{U}\ped{AB,2}$ a partir dels dos fasors de tensions de seq√º√®ncia fase-neutre $\cmplx{U}\ped{AN,1}$ i $\cmplx{U}\ped{AN,2}$.

\index{HP Prime@\textsf{HP Prime}!funcions!an12aab12@\funsfbs{AN12\_a\_AB12}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ AN12\_a\_AB12}, label=lst:AN12aAB12]
EXPORT AN12_a_AB12(x)
// x:fasors de seq√º√®ncia fase-neutre {AN1,AN2} ‚Üí fasors de seq√º√®ncia fase-fase {AB1,AB2}
BEGIN
  RETURN ‚àö3*{x(1)*exp(ùúã*i/6),x(2)*exp(-ùúã*i/6)};
END;
\end{lstlisting}

La funci√≥ \funsfbs{AB12\_a\_AN12} fa el c√†lcul invers de la funci√≥ anterior, i utilitza les mateixes equacions  \eqref{eq:c_sim_a3} i \eqref{eq:c_sim_b3} per obtenir els dos fasors de tensions de seq√º√®ncia fase-neutre $\cmplx{U}\ped{AN,1}$ i $\cmplx{U}\ped{AN,2}$ a partir dels dos fasors de tensions de seq√º√®ncia fase-fase $\cmplx{U}\ped{AB,1}$ i  $\cmplx{U}\ped{AB,2}$:

\index{HP Prime@\textsf{HP Prime}!funcions!ab12aan12@\funsfbs{AB12\_a\_AN12}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ AB12\_a\_AN12}, label=lst:AB12aAN12]
EXPORT AB12_a_AN12(x)
// x:fasors de seq√º√®ncia fase-fase {AB1,AB2} ‚Üí fasors de seq√º√®ncia fase-neutre {AN1,AN2}
BEGIN
  RETURN {x(1)/exp(ùúã*i/6),x(2)/exp(-ùúã*i/6)}/‚àö3;
END;
\end{lstlisting}


\section{Matem√†tiques}

La funci√≥ \funsfbs{Interpolaci√≥\_Polin√≤mica} obt√© l'ordenada interpolada $y$ corresponent a una abscissa $x$, a partir d'un conjunt  de punts $(x_1,y_1)$, $(x_2,y_2)$, ..., $(x\ped{n},y\ped{n})$. S'utilitza una interpolaci√≥ polin√≤mica, obtenint el mateixos resultats que amb el m√®tode descrit en la secci√≥ \vref{sec:poli_lagr}; el grau del polinomi √©s igual a $n-1$.

\index{HP Prime@\textsf{HP Prime}!funcions!interpolaciopolinomica@\funsfbs{Interpolaci√≥\_Polin√≤mica}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Interpolaci√≥\_Polin√≤mica}]
EXPORT Interpolaci√≥_Polin√≤mica(dades,x)
// dades:[[x1,y1], x:abscissa ‚Üí ordenada y interpolada
//        [x2,y2]
//        .......
//        [xn,yn]]
BEGIN
  RETURN POLYEVAL(polynomial_regression(dades,rowDim(dades)-1),x);
END;
\end{lstlisting}


La funci√≥ \funsfbs{Interpolaci√≥\_Polin√≤mica\_2dim} obt√© el valor interpolat $z$ corresponent a un punt $(x, y)$, a partir d'un conjunt de punts $(x\ped{1}, x\ped{2}, ... x\ped{n})$, d'un conjunt de punts $(y\ped{1}, y\ped{2}, ... y\ped{m})$, i d'una matriu de valors $(z\ped{11}, z\ped{12}, ..., z\ped{1n})$,
$(z\ped{21}, z\ped{22}, ..., z\ped{2n})$, ..., $(z\ped{m1}, z\ped{m2}, ..., z\ped{mn})$. S'utilitzen  interpolacions polin√≤miques, obtenint els mateixos resultats que amb el m√®tode descrit en la secci√≥ \vref{sec:poli_lagr}; el grau dels polinomis √©s igual a $n-1$ i $m-1$.
√âs necess√†ria la funci√≥ \funsfbs{Interpolaci√≥\_Polin√≤mica}, definit anteriorment.

\index{HP Prime@\textsf{HP Prime}!funcions!interpolaciopolinomica2dim@\funsfbs{Interpolaci√≥\_Polin√≤mica\_2dim}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Interpolaci√≥\_Polin√≤mica\_2dim}]
EXPORT Interpolaci√≥_Polin√≤mica_2dim(dades,x,y)
// dades:[[0,   x1,  x2, ...  xn], x, y ‚Üí z interpolada
//        [y1, z11, z12, ... z1n]
//        [y2, z21, z22, ... z2n]
//        .......................
//        [ym, zm1, zm2, ... zmn]]
BEGIN
  LOCAL c:=colDim(dades);
  LOCAL r:=rowDim(dades);
  LOCAL d:=[[0,0],[0,0]];
  LOCAL z:=[[0,0],[0,0]];
  LOCAL k;
  d(-1):=dades({{1,2},{1,c}});
  FOR k FROM 2 TO r DO
    d(-2):=dades({{k,2},{k,c}});
    z(k-1,2):=Interpolaci√≥_Polin√≤mica(d,x);
  END;
  z(-1):=TRN(dades({{2,1},{r,1}}));
  RETURN Interpolaci√≥_Polin√≤mica(z,y);
END;
\end{lstlisting}

La funci√≥ \funsfbs{Regla\_dels\_Trapezis} utilitza l'equaci√≥  \eqref{eq:trap-uneven} per obtenir la integral entre $x_1$ i $x_n$ d'un conjunt  de punts $(x_1,y_1)$, $(x_2,y_2)$, ..., $(x\ped{n},y\ped{n})$, utilitzant la regla dels trapezis.

\index{HP Prime@\textsf{HP Prime}!funcions!regladelstrapezis@\funsfbs{Regla\_dels\_Trapezis}}
\begin{lstlisting}[caption={HP Prime --- Funci√≥ Regla\_dels\_Trapezis}]
EXPORT Regla_dels_Trapezis(dades)
// dades:[[x1,y1] ‚Üí Integral de x1 a xn
//        [x2,y2]
//        .......
//        [xn,yn]]
BEGIN
  LOCAL k;
  LOCAL a:=0;
  LOCAL n:=rowDim(dades)-1;
  FOR k FROM 1 TO n DO
    a:=a+(dades(k+1,2)+dades(k,2))*(dades(k+1,1)-dades(k,1));
  END;
  RETURN a/2;
END;
\end{lstlisting}




